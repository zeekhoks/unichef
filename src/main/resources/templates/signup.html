<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Signup</title>

    <script th:inline="javascript">

        window.onload = () => {
            var radios = document.getElementsByName("role");
            for (radio in radios) {
                radios[radio].onclick = function () {
                    showFields(this.value);
                }
            }
        }

        function showFields(selectedRole) {

            // Hide all fields initially
            var chefFields = document.querySelector('.chef-fields');
            var studentFields = document.querySelector('.student-fields');

            if (selectedRole === 'CHEF' && chefFields) {
                console.log("Displaying chef fields")
                chefFields.style.display = 'block';
                studentFields.style.display = 'none';
            } else if (selectedRole === 'STUDENT' && studentFields) {
                console.log("Displaying student fields")
                studentFields.style.display = 'block';
                chefFields.style.display = 'none';
            }
        }
    </script>

    <style>
        body {
            background-color: #d3d3d3;
            height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        .chef-fields, .student-fields {
            display: none;
        }

        .signup-form {
            display: flex;
            flex-direction: column;
            width: 500px;
            min-height: 600px;
            margin: auto;
        }
    </style>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet"
          integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65" crossorigin="anonymous">
</head>
<body>


<form th:action="@{/signup}" method="post" class="card signup-form">
    <h2 class="card-header text-center">Signup</h2>

    <div class="card-body p-4">
        <label class="my-2">
            <input class="form-check-input" type="radio" name="role" id="student" value="STUDENT"/> Student &nbsp; &nbsp;
            <input class="form-check-input" type="radio" name="role" id="chef" value="CHEF" checked/> Chef
        </label>

        <input class="form-control my-2" type="text" id="firstName" name="firstName"  placeholder="First Name"/>

        <input  class="form-control my-2" type="text" id="lastName" name="lastName"  placeholder="Last Name"/>

        <input class="form-control my-2" type="text" id="address" name="address" placeholder="Address"/>

        <input class="form-control my-2"  type="text" id="zipcode" name="zipcode" placeholder="Zipcode"/>

        <input class="form-control my-2"  type="text" id="city" name="city" placeholder="City"/>

        <input class="form-control my-2" type="text" id="state" name="state" placeholder="State"/>

        <input class="form-control my-2" type="text" id="email" name="email"  placeholder="Email"/>

        <input class="form-control my-2" type="text" id="phone" name="phoneNumber"  placeholder="Phone Number"/>

        <input class="form-control my-2" type="password" id="password" name="password"  placeholder="Password"/>


        <div class="chef-fields my-2">
            <input class="form-control" type="text" id="cuisines" name="cuisines" placeholder="Cuisines"/>
        </div>

        <!-- Student-specific fields -->
        <div class="student-fields my-2">
            <p class="m-0">Food Preferences:</p>
            <input class="form-check-input" type="checkbox" name="foodPreferences" value="VEGAN"> Vegan <br>
            <input class="form-check-input" type="checkbox" name="foodPreferences" value="VEGETARIAN"> Vegetarian <br>
            <input class="form-check-input" type="checkbox" name="foodPreferences" value="NONVEGETARIAN"> Non-Vegetarian <br>
            <input class="form-check-input" type="checkbox" name="foodPreferences" value="EGGITARIAN"> Eggitarian <br>
            <input class="form-check-input" type="checkbox" name="foodPreferences" value="PESCATARIAN"> Pescatarian <br>
            <input class="form-control my-2" type="text" id="allergies" name="allergies" placeholder="Allergies" />
        </div>

        <input class="btn btn-primary my-2 w-100" type="submit" value="Sign Up"/>
    </div>
</form>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-kenU1KFdBIe4zVF0s0G1M5b4hcpxyD9F7jL+jjXkk+Q2h455rYXK/7HAuoJl+0I4"
        crossorigin="anonymous"></script>

</body>
</html>

